<html>
<head>
<script src='OTS_Standards.js'></script>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link href="External_OTS_Standards.css" rel="stylesheet"></head>
</head>
<body>
	
	
<script src='OTS_Standards.js'></script>
<script>
let reportData;
(function(){
        let origin = location.origin || (location.protocol + '//' + location.host);
        window.onload = () => {
            const data = JSON.stringify(
		    
		    {
			    name:'stdappsrequestdata',
			    data: [{queryId:'charts', 
			    criteria :{
				     "operations":"and",
				    "parameters":{
				    "SERIESNAME":"Sales",
				    "IDENTIFIER":"Chart1"
				    }}
},
				   
{queryId:'charts', 
			    criteria :{
				     "operations":"and",
				    "parameters":{
				   
					    "IDENTIFIER":"Chart2a"
				    
				    }}
},
				   
				   {queryId:'charts', 
			    criteria :{
				     "operations":"and",
				    "parameters":{
				   
				    "IDENTIFIER":"Chart2b"
				    }}
}]
			    		    }
	    
	    );
		const data1= JSON.stringify({
name:"MataData",type:"GET",data:'9403276'
		});
            window.parent.postMessage(data,'*');
		window.parent.postMessage(data1,'*');
		console.log("sent message to parent",data,data1);
        };
})(window);

window.addEventListener('message', function(event) {
	console.log("Message recieved from the parent");
    if(event && event.data) {
        let {name, data} = JSON.parse(event.data);
        if(name === 'stdappsdata') {
				console.log('>>>>>>>>>>>>>>>>>>>>>>>>>>>>> !!!!',event.data);
				console.log('>>>>>>>>>>>',data);
			reportData = data;

			}
	    if(name === 'metaData') {
	    	initializeContent('test',reportData,data);
	    }
		}   
	});
</script>
	</body>
</html>
